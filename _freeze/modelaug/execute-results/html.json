{
  "hash": "045294b12afb86b9d494698e4cb10034",
  "result": {
    "markdown": "---\ntitle: Modèle avec proies structurées et prédateurs\n---\n\n*Modules à importer :*\n\n::: {.cell execution_count=1}\n``` {.python .cell-code code-fold=\"true\"}\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.integrate import odeint\nimport plotly.express as px\n```\n:::\n\n\n## Définition du modèle \n\nCe modèle est un modèle de prédation de Lotka-Volterra où les proies se répartissent en deux structures et les prédateurs diffusent librement entre les deux strcutures.  \n\nNous partirons pour être plus général du postulat que la prédation et les naissances sont diférentielles entre les structures mais certaines analyses se baseront sur une égalité des naissances par exemple.  \n\nNous considérons le modèle suivant d'après @freedman1977: \n\n$$ \\left\\{\\begin{array}{l}\n\\dot x = r_xx\\left(1-\\frac{x}{K_x}\\right)+\\beta\\left(\\frac{y}{\\gamma_y}-\\frac{x}{\\gamma_x}\\right)-p_xxz \\\\\n\\dot y = r_yy\\left(1-\\frac{y}{K_y}\\right)+\\beta\\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right)-p_yyz \\\\\n\\dot z = z\\left(n_xx+n_yy - m\\right)\n\\end{array}\\right.\n$$ {#eq-modelau}\n\navec:  \n- $r_x$ le taux de croissance de x dans la culture,  \n- $r_y$ le taux de croissance de y dans l'augmentorium,  \n- $K_x$ la capacité maximale de la culture,  \n- $K_y$ la capacité maximale de l'augmentorium,  \n- $\\beta$ la force de migration,  \n- $\\gamma_x$ le taux d'asymétrie de la migration culture vers augmentorium,  \n- $\\gamma_y$ le taux d'asymétrie de la migration augmentorium vers culture,  \n- $p_x,p_y$ la prédation de $z$ sur $x$ ou $y$,  \n- $n_x,n_y$ le taux de conversion proie prédateur dans la culture ou l'augmentorium (naissance due à la prédation),  \n- $m$ la mortalité des prédateurs $z$.\n\nNous avons donc maintenant un espace structuré en deux zones, s'échangeant asymétriquement de la population (qui grandit logisitiquement), le tout controlé par une population de prédateurs ne chassant et ne se reproduisant pas de la même manière dans les deux zones. \n\n### Hypothèses propres à l'augmentorium \n\nSi nous voulons simuler une condition d'augmentorium alors nous poserons $p_y > p_x$ et $n_y>n_x$.\n\nEn effet l'augmentorium est un lieu propice au développement des individus que ce soit les prédateurs ou les ravageurs.   \nAinsi la prédation exercé sur les ravageurs est plus forte dans l'augmentorium et les naissances des prédateurs sont plus fortes dans l'augmentorium que dans la culture.\n\nDans la suite nous resterons général pour analyser le modèle.\n\n## Dynamique des populations\n\nNous allons encore une fois simuler comment se comporte les trois populations en fonction du temps.  \nLe code commenté est acessible dans la boite cachée ci dessous:\n\n::: {.cell execution_count=2}\n``` {.python .cell-code code-fold=\"true\"}\n#Définition du modèle avec prédateurs:\ndef a(etat, t, param):\n    x, y, z = etat\n    rx, Kx, ry, Ky, gx, gy, b, px, py, nx, ny, m = param\n    xdot, ydot, zdot = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx) - px * z * x, ry * y * (1 - y/Ky) + b * (x/gx - y/gy) - py * y * z, z * (nx * x + ny * y - m)]\n    return [xdot, ydot, zdot]\n\n#Paramètres Simulation 1 : \nrx1 = 0.5\nry1 = 1\nKx1 = 2\nKy1 = 1\ngx1 = 0.5\ngy1 = 3\nb1 = 1\npx1 = 0.5\npy1 = 1\nnx1 = 0.5\nny1 = 1\nm1 = 0.5\n\nparam_a1 = np.array([rx1, Kx1, ry1, Ky1, gx1, gy1, b1, px1, py1, nx1, ny1, m1])\n\n#Paramètres Simulation 2: \nrx2 = 0.5\nry2 = 1\nKx2 = 2\nKy2 = 1\ngx2 = 0.5\ngy2 = 3\nb2 = 1\npx2 = 0.5\npy2 = 1\nnx2 = 0.5\nny2 = 1\nm2 = 2\n\nparam_a2 = np.array([rx2, Kx2, ry2, Ky2, gx2, gy2, b2, px2, py2, nx2, ny2, m2])\n\n#Temps d'intégration 1,2:\nt3 = np.arange(0, 90, 0.01)\nt4 = np.arange(0, 50, 0.01)\n\n#Condition initiale de 1,2:\nx0 = 2\ny0 = 0\nz0 = 0.5\nc0 = np.array([x0, y0, z0])\n\n#Simulation 1,2:\ns3 = odeint(a, c0, t3, args = (param_a1,))\ns4 = odeint(a, c0, t4, args = (param_a2,))\n\n#Plot de la figure: \nfig, ax = plt.subplots(1, 2, figsize = (8, 4))\nfig.suptitle('Simulation du modèle d\\'augmentorium')\nplt.subplots_adjust(wspace = 0.3)\n\n#Plot de l'axe 1:\nax[0].plot(t3, s3[:, 0], color = 'C0', label = 'Ravageurs dans la culture')\nax[0].plot(t3, s3[:, 1], color = 'C1', label = 'Ravageurs dans l\\'augmentorium')\nax[0].plot(t3, s3[:, 2], color = 'C6', label = 'Prédateurs totaux')\n\n#Plot de l'axe 2:\nax[1].plot(t4, s4[:, 0], color = 'C0', label = 'Ravageurs dans la culture')\nax[1].plot(t4, s4[:, 1], color = 'C1', label = 'Ravageurs dans l\\'augmentorium')\nax[1].plot(t4, s4[:, 2], color = 'C6', label = 'Prédateurs totaux')\n\n\n#Légendes et titres:\nax[0].set_ylabel('Population, x,y,z')\nax[0].grid()\nax[0].set_xlabel('Temps, t')\nax[0].set_ylim(top = 2, bottom = -0.05)\nax[0].set_title('Coexistence des trois populations', fontsize = 7.5)\n\nax[1].set_xlabel('Temps, t')\nax[1].set_ylabel('Population, x,y,z')\nax[1].grid()\nax[1].set_ylim(top = 2, bottom = -0.05)\n\nax[1].legend(bbox_to_anchor = (1, -0.65, 0.5, 0.5))\nax[1].set_title('Disparition des prédateurs, maintien des ravageurs',fontsize = 7.5);\n```\n\n::: {.cell-output .cell-output-display}\n![Simulation de la dynamique de la population](modelaug_files/figure-html/fig-dyn-output-1.png){#fig-dyn width=795 height=467}\n:::\n:::\n\n\nLes profils de dynamique se répartissent en deux grandes catégories. Ceux où la population de prédateurs survit et celle où elle disparaît. Il semble donc que le système possède un équilibre stable qui varie selon les paramètres du système. \n\nPour de faibles temps t nous observons des oscillations à la Lotka-Volterra.  \n\nLe profil de la dynamique de la population sans prédateurs est similaire au modèle avec seulement les proies et la migration asymétrique. Nous verrons dans la suite que ces deux modèles sont complètement confondus (sans prédateurs). \n\n## Espace d'état\n\nPour tracer l'espace d'état nous posons toutes les variations égales à $0$ (situation d'équilibre) :   \n\n$$\n\\left\\{\\begin{array}{l}\n0 = r_xx^*\\left(1-\\frac{x^*}{K_x}\\right)+\\beta\\left(\\frac{y^*}{\\gamma_y}-\\frac{x^*}{\\gamma_x}\\right)-p_xx^*z^* \\\\\n0 = r_yy^*\\left(1-\\frac{y^*}{K_y}\\right)+\\beta\\left(\\frac{x^*}{\\gamma_x}-\\frac{y^*}{\\gamma_y}\\right)-p_yy^*z^* \\\\\n0 = z^*\\left(n_xx^*+n_yy^* - m\\right)\n\\end{array}\\right.\n$${#eq-pdpaug}\n\nqui devient :  \n$$\n\\left\\{\\begin{array}{l}\nz^* = \\frac{r_x}{p_x}\\left(1-\\frac{x^*}{K_x}\\right)+\\frac{\\beta}{p_xx^*}\\left(\\frac{y^*}{\\gamma_y}-\\frac{x^*}{\\gamma_x}\\right)\\\\\nz^* = \\frac{r_y}{p_y}\\left(1-\\frac{y^*}{K_y}\\right)+\\frac{\\beta}{p_yy^*}\\left(\\frac{x^*}{\\gamma_x}-\\frac{y^*}{\\gamma_y}\\right)\\\\\nz^*=0 \\lor n_xx^*+n_yy^*=m\n\\end{array}\\right.\n$${#eq-pdpaug2}  \n\nNous nous retrouvons avec deux surfaces et deux plans dont les intersections seront les équilibres. Voyons ceci avec une animation :\n\n::: {.cell execution_count=3}\n``` {.python .cell-code code-fold=\"true\"}\nimport IPython.display as display\n\nfig01 = \"\"\"\n<iframe width = \"700\" height = \"550\" src = \"https://www.geogebra.org/classic/bw3wqnzg\" style = \"border: 1px solid black\"></iframe>\n\"\"\"\n\ndisplay.HTML(fig01)\n```\n\n::: {#fig-pdp .cell-output .cell-output-display execution_count=3}\n```{=html}\n\n<iframe width = \"700\" height = \"550\" src = \"https://www.geogebra.org/classic/bw3wqnzg\" style = \"border: 1px solid black\"></iframe>\n```\n\nAnimation Geogebra représentant l'espace de phase\n:::\n:::\n\n\nEn vert nous avons l'intersection entre la surface définie par $\\dot x =0$ et les plans $z=0$ et $n_xx+n_yy=m$.  \nEn rouge nous avons l'intersection entre la surface définie par $\\dot y =0$ et les plans $z=0$ et $n_xx+n_yy=m$.\n\nNous avons donc que l'intersection des courbes vertes et rouges sont les équilibres. Il est facile de voir qu'il n'en existe que trois différents dont un seul correspond à la coexistence des trois populations.  \n\n### Calcul des équilibres \n\nSi $z=0$ alors ([-@eq-modelau]) devient:  \n$$\n\\left\\{\\begin{array}{l}\n\\dot x = r_xx(1-\\frac{x}{K_x})+\\beta\\left(\\frac{y}{\\gamma_y}-\\frac{x}{\\gamma_x}\\right)\\\\\n\\dot y = r_yy(1-\\frac{y}{K_y})+\\beta\\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right)\n\\end{array}\\right.\n$$ {#eq-modamig}\n\nqui est exactement le système considéré précedemment. Pour l'analyse de ses équilibres se référer à [ceci](modeleavecmigrationass.qmd).  \n\nNous allons donc s'intéresser uniquement à l'équilibre de coexistence que nous noterons $(x^* , y^* , z^*)$.\n\nNous allons calculer pour différentes valeurs de $\\beta$ les valeurs de l'équilibre et leur stabilité.  \n\nEn effet le calcul exact de l'équilibre pour un $\\beta$ quelconque est difficile, et nous allons donc partir de cas plus simple avant d'effectuer des simulations Python pour le cas quelconque.\n\n#### Lorsque $\\beta = 0$\n\nNous définissons le système ([-@eq-pdpaug]) par $\\mathbb{F(x,y,z,\\beta)}$ :\n$$\n\\mathbb{F(x,y,z,\\beta)} = \\left\\{\\begin{array}{l}\n\\dot x = r_xx\\left(1-\\frac{x}{K_x}\\right)+\\beta\\left(\\frac{y}{\\gamma_y}-\\frac{x}{\\gamma_x}\\right)-p_xxz \\\\\n\\dot y = r_yy\\left(1-\\frac{y}{K_y}\\right)+\\beta\\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right)-p_yyz \\\\\n\\dot z = z\\left(n_xx+n_yy - m\\right)\n\\end{array}\\right.\n$$\n\nde telle sorte que si nous cherchons l'équilibre pour $\\beta =0$ alors nous avons:\n$$\n\\mathbb{F(x^*,y^*,z^*,0)} = 0\n$$\n$$\n\\Leftrightarrow\n$$\n$$\n\\left\\{\\begin{array}{l}\n0 = r_xx^*\\left(1-\\frac{x^*}{K_x}\\right)-p_xx^*z^* \\\\\n0 = r_yy^*\\left(1-\\frac{y^*}{K_y}\\right)-p_yy^*z^* \\\\\n0 = z^*\\left(n_xx^*+n_yy^* - m\\right)\n\\end{array}\\right.\n$${#eq-pdpb0}\n$$\n\\Leftrightarrow\n$$\n$$\n\\left\\{\\begin{array}{l}\nz^* = \\frac{r_x}{p_x}\\left(1-\\frac{x^*}{K_x}\\right) \\\\\nz^* = \\frac{r_y}{p_y}\\left(1-\\frac{y^*}{K_y}\\right) \\\\\ny^* = \\frac{1}{n_y}\\left(m-n_xx^*\\right)\n\\end{array}\\right.\n$${#eq-eqpdp}\net ainsi :  \n$$\n\\frac{r_x}{p_x}\\left(1-\\frac{x^*}{K_x}\\right) = \\frac{r_y}{p_y}\\left(1-\\frac{m}{n_yK_y}+\\frac{n_xx^*}{n_y}\\right)\n$$\net donc : \n$$\nx^*=\\frac{K_x\\left(r_yp_xm+r_xn_yp_yK_y-r_yn_yp_xK_y\\right)}{r_xn_yp_yK_y+r_yn_xp_xK_x}\n$$\n\nNous déduisons $y^*$ et $z^*$ avec leur définition d'après ([-@eq-eqpdp]):\n$$\n\\left\\{\\begin{array}{l}\nx^* =  \\frac{K_x\\left(r_yp_xm+r_xn_yp_yK_y-r_yn_yp_xK_y\\right)}{r_xn_yp_yK_y+r_yn_xp_xK_x} \\\\\ny^* = \\frac{K_y\\left(r_yn_xp_xK_x+r_xp_ym - r_xn_xp_yK_x\\right)}{r_xn_yp_yK_y+r_yn_xp_xK_x} \\\\\nz^* = r_xr_y\\left(\\frac{n_xK_x+n_yK_y-m}{r_xn_yp_yK_y+r_yn_xp_xK_x}\\right)\n\\end{array}\\right.\n$${#eq-egaz}\n\n::: {.callout-warning}\n Le document de @freedman1977 contient deux erreurs, un $B_1$ à la place d'un $\\beta_1$ dans l'expression de $y^*$ (respectivement $x_{20}$ dans son article) et un $p_y$ à la place d'un $p_x$ dans l'expression de $z^*$ (respectivement un $\\beta_2$ à la place d'un $\\beta_1$\n selon ses notations).\n:::\n\nPour que ces équilibres soient positifs il faut que :  \n\n$$\n-\\frac{mr_y}{K_yn_yp_y} < \\frac{r_x}{p_x} - \\frac{r_y}{p_y} < \\frac{mr_x}{K_xn_xp_x}\n$${#eq-app1}\n\net\n\n$$\nn_xK_x+n_yK_y > m \n$${#eq-app2}\n\nNous verrons dans la suite que ([-@eq-app2]) est la condition permettant l'invasion des prédateurs lorsque les proies sont à leur équilibre.\n\n#### Lorsque $\\beta \\ne 0$ et petit\n\nPour $\\beta$ petit nous allons utiliser l'égalité de Taylor pour trouver $(x_*,y^*,z^*)$. Nous avons alors, en notant $(x^*(\\beta),y^*(\\beta),z^*(\\beta))$:  \n\n$$\n\\left\\{\\begin{array}{l}\nx^*(0) = \\frac{K_x\\left(r_yp_xm+r_xn_yp_yK_y-r_yn_yp_xK_y\\right)}{r_xn_yp_yK_y+r_yn_xp_xK_x}\\\\\ny^*(0) = \\frac{K_y\\left(r_yn_xp_xK_x+r_xp_ym - r_xn_xp_yK_x\\right)}{r_xn_yp_yK_y+r_yn_xp_xK_x}\\\\\nz^*(0) = r_xr_y\\left(\\frac{n_xK_x+n_yK_y-m}{r_xn_yp_yK_y+r_yn_xp_xK_x}\\right)\n\\end{array}\\right. \\\\\n$$\n\nSoit $\\mathbb{F(x,y,z,\\beta)}$ tel que :\n$$\n\\mathbb{F(x,y,z,\\beta)} = \\left\\{\\begin{array}{l}\nr_xx\\left(1-\\frac{x}{K_x}\\right)+\\beta\\left(\\frac{y}{\\gamma_y}-\\frac{x}{\\gamma_x}\\right)-p_xxz \\\\\nr_yy\\left(1-\\frac{y}{K_y}\\right)+\\beta\\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right)-p_yyz \\\\\nz\\left(n_xx+n_yy - m\\right)\n\\end{array}\\right. \\\\\n$$\n\nNous voulons ainsi résoudre : \n$$ \n\\mathbb{F\\left(\\mathcal{x}^*(\\beta) , \\mathcal{y}^*(\\beta) , \\mathcal{z}^*(\\beta) , \\beta\\right)}=0\n$$\n\nor, d'après la formule de Taylor nous avons à l'ordre 1 en dimension 4 nous avons: \n\n$$\n\\mathbb{F\\left(\\mathcal{x}^*(\\beta) , \\mathcal{y}^*(\\beta) , \\mathcal{z}^*(\\beta) , \\beta\\right)}=\\mathbb{F\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) , \\mathcal{0}\\right)} + \\\\ \n\\frac{\\partial \\mathbb{F}}{\\partial \\beta}\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) , \\mathcal{0}\\right)\\beta + \\mathbb{J}\\tiny{\\mathbb{F\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) ,\\mathcal{0}\\right)}}\\small\\begin{pmatrix} \\mathcal{x}^*(\\beta) - \\mathcal{x}^*(\\mathcal{0}) \\\\ \\mathcal{y}^*(\\beta) - \\mathcal{y}^*(\\mathcal{0}) \\\\ \\mathcal{z}^*(\\beta) - \\mathcal{z}^*(\\mathcal{0}) \\end{pmatrix} + o(\\beta)\n$${#eq-taylor}\n$$\n\\Leftrightarrow\n$$\n$$\n\\begin{pmatrix} \\mathcal{x}^*(\\beta) \\\\ \\mathcal{y}^*(\\beta) \\\\ \\mathcal{z}^*(\\beta) \\end{pmatrix} = \n\\begin{pmatrix} \\mathcal{x}^*(\\mathcal{0}) \\\\  \\mathcal{y}^*(\\mathcal{0}) \\\\  \\mathcal{z}^*(\\mathcal{0}) \\end{pmatrix} - \\mathbb{J^{\\mathcal{-1}}}\\tiny{\\mathbb{F\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) ,\\mathcal{0}\\right)}} \\small\\frac{\\partial \\mathbb{F}}{\\partial \\beta}\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) , \\mathcal{0}\\right)\\beta + o(\\beta)\n$$\n\nNous avons, $\\frac{\\partial \\mathbb{F}}{\\partial \\beta}\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) , \\mathcal{0}\\right)\\beta = \\begin{pmatrix} -\\frac{\\mathcal{x}^*(\\mathcal{0})}{\\gamma_x}+\\frac{\\mathcal{y}^*(\\mathcal{0})}{\\gamma_y}\\\\\\frac{\\mathcal{x}^*(\\mathcal{0})}{\\gamma_x}-\\frac{\\mathcal{y}^*(\\mathcal{0})}{\\gamma_y}\\\\ 0\\end{pmatrix}$ .\n\net,\n$$\n\\mathbb{J}\\small{\\mathbb{F\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) ,\\mathcal{0}\\right)}} = \n\\begin{pmatrix} -\\frac{r_xx^*(0)}{K_x} & 0 & -p_xx^*(0) \\\\ 0 & -\\frac{r_yy^*(0)}{K_y} & -p_yy^*(0) \\\\ n_xz^*(0) & n_yz^*(0) & 0 \\end{pmatrix}\n$$\n\nil est alors facile de calculer que,\n$$\ndet(\\mathbb{J}) = -x^*(0)y^*(0)z^*(0)\\left(\\frac{r_xn_yp_y}{K_x}+\\frac{r_yn_xp_x}{K_y}\\right) \\ne 0\n$$\n\nLa jacobienne est donc bien inversible et nous pouvons la calculer (méthode des cofacteurs) ce qui donne: \n$$\n\\mathbb{J^{\\mathcal{-1}}}\\tiny{\\mathbb{F\\left(\\mathcal{x}^*(\\mathcal{0}) , \\mathcal{y}^*(\\mathcal{0}) , \\mathcal{z}^*(\\mathcal{0}) ,\\mathcal{0}\\right)}} =\\small \\frac{1}{\\frac{r_xp_yn_y}{K_x}+\\frac{r_yp_xn_x}{K_y}} \\begin{pmatrix} -\\frac{p_yn_y}{x^*(0)} & \\frac{p_xn_y}{y^*(0)} & \\frac{r_yp_x}{z^*(0)K_y} \\\\ \\frac{p_yn_x}{x^*(0)} & -\\frac{p_xn_x}{y^*(0)} & \\frac{r_xp_y}{z^*(0)K_x} \\\\ -\\frac{r_yn_x}{x^*(0)K_y} & -\\frac{r_xn_y}{y^*(0)K_x}& -\\frac{r_xr_y}{z^*(0)K_xK_y} \\end{pmatrix}\n$${#eq-jacinv}\n\nEn mettant en œuvre le calcul nous trouvons:\n$$\n\\left\\{\\begin{array}{l}\nx^*(\\beta) = x^*(0) - \\frac{\\beta n_yK_xK_y\\left(\\frac{y^*(0)}{\\gamma_y}-\\frac{x^*(0)}{\\gamma_x}\\right)\\left(\\frac{p_y}{x^*(0)}+\\frac{p_x}{y^*(0)}\\right)}{K_yr_xp_yn_y + K_xr_yp_xn_x} + o(\\beta)\\\\\ny^*(\\beta) = y^*(0) - \\frac{\\beta n_xK_xK_y\\left(\\frac{y^*(0)}{\\gamma_y}-\\frac{x^*(0)}{\\gamma_x}\\right)\\left(\\frac{p_y}{x^*(0)}+\\frac{p_x}{y^*(0)}\\right)}{K_yr_xp_yn_y + K_xr_yp_xn_x} + o(\\beta)\\\\\nz^*(\\beta) = z^*(0) - \\frac{\\beta K_xK_y\\left(\\frac{y^*(0)}{\\gamma_y}-\\frac{x^*(0)}{\\gamma_x}\\right)\\left(\\frac{r_xn-y}{y^*(0)K_x}-\\frac{r_yn_x}{x^*(0)K_y}\\right)}{K_yr_xp_yn_y + K_xr_yp_xn_x} + o(\\beta)\n\\end{array}\\right.\\\\\n$${#eq-equbpetit}\n\n#### Lorsque $\\beta$ est quelconque \n\n([-@eq-pdpaug]) donne, en exprimant $y^*$ en fonction de $x^*$:\n$$\n\\left\\{\\begin{array}{l}\nz^* =  \\frac{r_x}{p_x}\\left(1-\\frac{x^*}{K_x}\\right) + \\frac{\\beta}{p_x}\\left(\\frac{m}{n_y\\gamma_y x^*}-\\frac{n_x}{n_y\\gamma_y}-\\frac{1}{\\gamma_x}\\right)   \\\\\nz^* = \\frac{r_y}{p_y}\\left(1-\\frac{m-n_xx^*}{n_yK_y}\\right) + \\frac{\\beta n_y}{p_y}\\left(\\frac{x^*}{\\gamma_x\\left(m-n_xx^*\\right)}-\\frac{1}{n_y\\gamma_y}\\right) \\\\\ny^* =\\frac{1}{n_y}\\left(m- n_xx^*\\right)\n\\end{array}\\right. \n$${#eq-systpdp}\n\nNous trouvons $x^*$ en faisant l'intersection entre les deux premières équations, nous trouvons $y^*$ avec la troisième équation et $z^*$ avec la première équation.\n\nPour calculer l'équilibre nous utilisons `numpy`:\n\n::: {.cell execution_count=4}\n``` {.python .cell-code code-fold=\"true\"}\n#Calcul de x*:\nx = np.polynomial.Polynomial([0, 1])\n#Polynome :\npol1 = (m1 - nx1 * x) * x * rx1/px1 * (1 - x/Kx1) + (m1 - nx1 * x) * b1/px1 * ((m1 - nx1 * x)/(ny1 * gy1) - x/gx1) - (m1 - nx1 * x) * x * ry1/py1 * (1 - (m1 - nx1 * x)/(ny1 * Ky1)) - x * b1 * ny1/py1 * (x/gx1 - (m1 - nx1 * x)/(ny1 * gy1))\n\n#Nous utilisons un masque booléen adapté à la situation --> solution réelle, positive et qui vérifie la condtion imposée par la troisième équation du système:\nsolx = pol1.roots()[(np.isreal(pol1.roots())) * (pol1.roots() > 0) * (pol1.roots()<m1/ny1)]\n\n#Calcul de y*:\nsoly = 1/ny1 * (m1 - nx1 * solx)\n\n#Calcul de z*:\nsolz = rx1/px1 * (1 - solx/Kx1) + b1/px1 * (m1/(ny1 * gy1 * solx) - nx1/(ny1 * gy1) - 1/gx1)\n```\n:::\n\n\n### Stabilité des équilibres\n\nSans prédateurs ($z=0$) nous avons les mêmes équilibres que dans la partie précédente, la stabilité est donc la même que dans la partie précédente. \n\nNous allons calculer pour différentes valeurs de $\\beta$ la stabilité.\n\n#### Lorsque $\\beta=0$  \n\nLa jacobienne du système est:\n$$ \n\\mathbb{J_{\\mathcal{x^*_2},\\mathcal{y^*_2},\\mathcal{z^*_2},\\mathcal{0}}}  =  \\begin{pmatrix} -\\frac{r_xx_2^*(0)}{K_x} & 0 & -p_xx_2^*(0) \\\\ 0 & -\\frac{r_yy_2^*(0)}{K_y} & -p_yy_2^*(0) \\\\ n_xz_2^*(0) & n_yz_2^*(0) & 0 \\end{pmatrix}\n$$\n\nEn calculant le polynôme caractéristique nous en déduisons que toutes les parties réelles des valeurs propres sont négatives et que donc l'équilibre est stable. \n*La preuve est faite par Freedman dans son [théorème 4.1](https://epubs.siam.org/doi/10.1137/0132052).*\n\n#### Lorsque $\\beta \\ne 0$ et $\\beta$ petit  \n\n$$ \n\\mathbb{J_{\\mathcal{x^*},\\mathcal{y^*},\\mathcal{z^*},\\mathcal{\\beta}}}  =  \\begin{pmatrix} -\\frac{r_xx^*(0)}{K_x} -\\frac{\\beta}{\\gamma_x} & \\frac{\\beta}{\\gamma_y} & -p_xx^*(0) \\\\ \\frac{\\beta}{\\gamma_x} & -\\frac{r_yy^*(0)}{K_y}-\\frac{\\beta}{\\gamma_y} & -p_yy^*(0) \\\\ n_xz^*(0) & n_yz^*(0) & 0 \\end{pmatrix} = \\mathbb{J_{\\mathcal{x^*},\\mathcal{y^*},\\mathcal{z^*},\\mathcal{0}}} + \\beta \\begin{pmatrix} -\\frac{1}{\\gamma_x} & \\frac{1}{\\gamma_y} & 0 \\\\ \\frac{1}{\\gamma_x} & -\\frac{1}{\\gamma_y} & 0 \\\\ 0 & 0 & 0 \\end{pmatrix}\n$$\n\nComme $\\beta$ est petit nous avons la matrice qui est petite et qui n'influence pas le signe des valeurs propres. Donc l'équilibre est encore stable.\n\n## Equilibres en fonction des paramètres du modèle simplifié\n\nDans cette partie nous allons distinguer les cas où $n_x = n_y$ et $p_x=p_y$ de ceux où ils sont différents.   \nEn effet, l'un des postulats de l'augmentorium est que le développement des ravageurs et prédateurs est favorisé dans celui-ci mais nous pouvons supposer que la prédation et les naissances dans l'augmentorium sont égales.  \n\nIl est intéressant de considérer la somme des équilibre des proies en fonction de la force de migration ($\\beta$) et les équilibres dans la culture en fonction du taux de fuite ($\\gamma_y$) et du taux de migration ($\\gamma_x$).\n\nDans ce cas ([-@eq-modelau]) devient : \n\n$$ \n\\left\\{\\begin{array}{l}\n\\dot x = r_xx\\left(1-\\frac{x}{K_x}\\right)+\\beta\\left(\\frac{y}{\\gamma_y}-\\frac{x}{\\gamma_x}\\right)-pxz \\\\\n\\dot y = r_yy\\left(1-\\frac{y}{K_y}\\right)+\\beta\\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right)-pyz \\\\\n\\dot z = z\\left(n\\left(x+y\\right) - m\\right)\n\\end{array}\\right.\n$$ {#eq-modelaueg}\n\n### Somme des équilibres des proies en fonction de $\\beta$\n\nA l'équilibre, nous avons : \n\n$$ \n\\left\\{\\begin{array}{l}\n0 = r_xx^*\\left(1-\\frac{x^*}{K_x}\\right)+\\beta\\left(\\frac{y^*}{\\gamma_y}-\\frac{x^*}{\\gamma_x}\\right)-px^*z^* \\\\\n0 = r_yy^*\\left(1-\\frac{y^*}{K_y}\\right)+\\beta\\left(\\frac{x^*}{\\gamma_x}-\\frac{y^*}{\\gamma_y}\\right)-py^*z^* \\\\\nx^*+y^* = \\frac{m}{n}\n\\end{array}\\right.\n$${#eq-modelsat}\n\nNous voyons, avec la troisième équation du système, que la somme des équilibres des proies est toujours égale à $\\frac{m}{n}$ quelque soit $\\beta$ du moment que les prédateurs sont présents. \n\nIntuitivement nous considèrons que la présence d'un équilibre des prédateurs positifs (invasion des prédateurs) est soumise à la condition que pour une population aussi petite soit elle de prédateurs ($z \\to 0$) et pour les proies à l'équilibre nous ayons un taux de croissance positif pour les prédateurs.   \nMathématiquement cette hypothèse est équivalente à la condition, si nous notons $(x_0^*(\\beta),y^*_0(\\beta))$ l'équilibre sans prédateurs pour un taux $\\beta$, que $x_0^* + y_0^* > \\frac{m}{n} \\Leftrightarrow \\exists z^* \\ne 0$.  \n\n- **Pour $\\beta = 0$** nous avons que s'il existe un équilibre des prédateurs positif alors nous avons $K_x+K_y>\\frac{m}{n}$ par l'égalité ([-@eq-egaz]). Ceci est donc la condition d'invasion des prédateurs ([-@eq-app2]) mentionnée plus tôt.  \n\n\n\n- **Si $\\beta \\to \\infty$** nous allons réduire le système ([-@eq-modelaueg]) en équation de Lotka-Volterra avec croissance logistique. Ainsi la présence d'un équilibre des prédateurs sera équivalente à la condition d'invasion supposée .\n\nLa démarche (d'après @arditi2018) à partir du système ([-@eq-modelaueg]) est la suivante :\n\n$$\n\\frac{\\dot x}{\\gamma_x} - \\frac{\\dot y}{\\gamma_y} = \\frac{r_x}{\\gamma_x}x\\left(1-\\frac{x}{K_x}\\right) - \\frac{r_y}{\\gamma_y}y\\left(1-\\frac{y}{K_y}\\right) + \\\\ \npz\\left(y-x\\right) -\\frac{\\beta}{\\gamma_x} \\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right) -\\frac{\\beta}{\\gamma_y} \\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right)\n$${#eq-beta}\n\nQuand $\\beta \\to \\infty$, $\\frac{\\dot x}{\\gamma_x} - \\frac{\\dot y}{\\gamma_y}$ devient après simplification :\n$$\n\\frac{\\dot x}{\\gamma_x} - \\frac{\\dot y}{\\gamma_y} = -\\beta\\left(\\frac{1}{\\gamma_x}+\\frac{1}{\\gamma_y}\\right)\\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right)\n$$\n\net donc nous avons forcément que $\\left(\\frac{x}{\\gamma_x}-\\frac{y}{\\gamma_y}\\right) \\to 0$ ie que $\\frac{x}{\\gamma_x} = \\frac{y}{\\gamma_y}$.\n\nNous posons $N = x+y$ qui est, avec l'assertion précédente, équivalent à \n$$\n\\frac{N}{\\gamma_x+\\gamma_y} = \\frac{x+y}{\\gamma_x+\\gamma_y} = \\frac{\\frac{x\\gamma_x}{\\gamma_x}+\\frac{y\\gamma_y}{\\gamma_y}}{\\gamma_x+\\gamma_y} = \\frac{x}{\\gamma_x} = \\frac{y}{\\gamma_y}\n$${#eq-sommeq}\n\nNous avons ainsi :\n$$\n\\dot N = \\dot x + \\dot y = \\frac{r_xx\\gamma_x}{\\gamma_x}\\left(1-\\frac{x}{K_x}\\right) + \\frac{r_yy\\gamma_y}{\\gamma_y}\\left(1-\\frac{y}{K_y}\\right)-pzN\n$$\n$$\n\\Leftrightarrow\n$$\n$$\n\\dot N = \\frac{r_xN\\gamma_x}{\\gamma_x+\\gamma_y}\\left(1-\\frac{x}{K_x}\\right) + \\frac{r_yN\\gamma_y}{\\gamma_x+\\gamma_y}\\left(1-\\frac{y}{K_y}\\right)-pzN\n$$\n$$\n\\Leftrightarrow\n$$\n$$\n\\dot N = \\left(\\frac{r_x\\gamma_x+r_y\\gamma_y}{\\gamma_x+\\gamma_y}\\right)N\\left(1-\\frac{\\frac{r_x\\gamma_x^2}{K_x}+\\frac{r_y\\gamma_y^2}{K_y}}{(\\gamma_x+\\gamma_y)^2(r_x\\gamma_x+r_y\\gamma_y)}N\\right)-pzN\n$${#eq-ndot}\n\nEn posant $r_N = \\left(\\frac{r_x\\gamma_x+r_y\\gamma_y}{\\gamma_x+\\gamma_y}\\right)$ et $K_N=\\frac{(\\gamma_x+\\gamma_y)^2(r_x\\gamma_x+r_y\\gamma_y)}{\\frac{r_x\\gamma_x^2}{K_x}+\\frac{r_y\\gamma_y^2}{K_y}}$\nle système devient : \n\n$$ \\left\\{\\begin{array}{l}\n\\dot N = r_NN\\left(1-\\frac{N}{K_N}\\right)-pzN \\\\\n\\dot z = z\\left(nN - m\\right)\n\\end{array}\\right.\n$$ {#eq-modelaueg2}\n\nqui est bien un système de L-V avec croissance logistique.\n\nSi $\\exists z^* > 0$ alors nous avons $N^*=\\frac{m}{n}$.  \nDe plus, nous avons : $pz^* = r_N\\left(1-\\frac{N^*}{K_N}\\right)$ et donc si $z^*>0$ nous avons $N^* < K_N$ qui est équivalent à $\\frac{m}{n} < K_N$. \n\nSi nous considérons le système précédent sans prédateurs nous avons : \n\n$$ \\left\\{\\begin{array}{l}\n\\dot N_0 = r_NN_0\\left(1-\\frac{N_0}{K_N}\\right)\n\\end{array}\\right.\n$$\n\net nous avons donc $N_0^* = K_N$.\n\nOr, posons la condition mathématique intuitive : \n$$\nx^*_0(+\\infty)+y^*_0(+\\infty) > \\frac{m}{n}\n$$\n$$\n\\Leftrightarrow\n$$\n$$\n\\frac{x^*_0(+\\infty)\\gamma_x}{\\gamma_x}+\\frac{y^*_0(+\\infty)\\gamma_y}{\\gamma_y} > \\frac{m}{n}\n$$\n$$\n\\Leftrightarrow\n$$\n$$\n\\frac{N_0^*(+\\infty)\\gamma_x}{\\gamma_x+\\gamma_y}+\\frac{N^*_0(+\\infty)\\gamma_y}{\\gamma_x+\\gamma_y} > \\frac{m}{n}\n$$\n$$\n\\Leftrightarrow\n$$\n$$\nK_N > \\frac{m}{n}\n$$\n\nL'intuition biologique est donc confirmée par des preuves mathématiques pour $\\beta=0$ et $\\beta \\to +\\infty$ ceci est suffisant pour penser que c'est vrai pour un $\\beta \\in ]0,+\\infty[$.\n\nNous allons donc tracer les graphes de la somme des équilibres du système ([-@eq-modelau]) avec et sans prédateurs et constater cette saturation à \\frac{m}{n} lorsque la condition $x_0^* + y_0^* > \\frac{m}{n}$ est validée.\n\nPour cela nous nous appuierons sur 3 cas selon le comportement du système sans prédateurs. Nous prendrons en premier le cas où le système était déja déflationniste, en deuxième le cas où le système était à la fois inflationniste et déflationniste puis le cas où le système est tout le temps inflationniste.\n\nCeci va permettre de comprendre le rôle de l'ajout de prédateurs.\n\nPour faire nos simulations nous laissons tourner le modèle [précédent](modeleavecmigrationass.qmd) et le modèle [actuel](@eq-modelau) indépendamment pour différentes valeur de $\\beta$ et nous traçons dans les deux cas la somme des équilibres atteintes pour des temps d'intégration large.\n\n#### Déflation du système sans prédateurs\n\nPour plot nous allons simuler avec `odeint` pendant un temps assez large pour atteindre l'équilibre :\n\n::: {.cell execution_count=5}\n``` {.python .cell-code code-fold=\"true\"}\n#Définition d'une fonction qui prend en compte le changement de migration:\ndef a(etat, t, param, i):\n    x, y, z = etat\n    b = i\n    rx, Kx, ry, Ky, gx, gy, p, n, m = param\n    xdot, ydot, zdot = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx) - p * z * x, ry * y * (1 - y/Ky) + b * (x/gx - y/gy) - p * y * z, z * (n * (x + y) - m)]\n    return [xdot, ydot, zdot]\n\n#Définition du modèle sans prédateurs:\ndef aug(etat, t, param, i):\n    rx, Kx, ry, Ky, gx, gy = param\n    b = i\n    x, y = etat\n    s=[rx * x * (1 - x/Kx) + b * (y/gy - x/gx), ry * y * (1 - y/Ky) + b * (x/gx - y/gy)]\n    return s \n\n#Définition des paramètres:\n#1:\nrx1 = 0.5\nry1 = 1\nKx1 = 2\nKy1 = 1\ngx1 = 0.5\ngy1 = 3\np1 = 1\nm11 = 1\nn11 = 0.25\nm12 = 3\nn12 = 2\n\nparam11 = np.array([rx1, Kx1, ry1, Ky1, gx1, gy1, p1, n11, m11])\nparam12 = np.array([rx1, Kx1, ry1, Ky1, gx1, gy1, p1, n12, m12])\n\n#Temps d'intégration suffisament large pour atteindre l'équilibre:\nt = np.arange(0, 1000, 0.01)\n\n#Condition initiale:\ne0 = [1, 1, 1]\n\n#Figure:\nfig, ax = plt.subplots(1, 2, figsize = (8, 5))\nplt.subplots_adjust(wspace = 0.3)\n\n\n#Boucle pour plot en fonction de beta:\nfor i in np.arange(0, 4, 0.01):\n    s11 = odeint(a, e0, t, args = (param11, i)) #Nous calculons pour chaque beta l'équilibre\n    ax[0].plot(i, s11[-1][0] + s11[-1][1], marker = '.', markersize = 3, color = 'C0')\n    s12 = odeint(a, e0, t, args = (param12, i))\n    ax[1].plot(i, s12[-1][0] + s12[-1][1], marker = '.', markersize = 3, color = 'C0')\n    \n    s11sp = odeint(aug, e0[0:2], t, args = (param11[0:6], i))\n    ax[0].plot(i, s11sp[-1][0] + s11sp[-1][1], marker = '.', markersize = 1, color = '0.7')\n    s12sp = odeint(aug, e0[0:2], t, args = (param12[0:6], i))\n    ax[1].plot(i, s12sp[-1][0] + s12sp[-1][1], marker = '.', markersize = 1, color = '0.7')\n\n#Plot de la droite Kx+Ky:    \nxt = np.arange(0, 4, 0.01)\nxt2 = np.arange(0, 4, 0.01)\n\nax[0].plot(xt, (Kx1 + Ky1) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax[1].plot(xt2, (Kx1 + Ky1) * np.ones_like(xt2), linestyle = 'dashed', color = 'k', markersize = '6')\n\n#Plot de m/n:\nax[0].plot(xt, m11/n11 * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')\nax[1].plot(xt, m12/n12 * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')\n\n#Légendes:\nax[0].set_xlabel('β')\nax[1].set_xlabel('β')\n\n\nax[0].set_ylabel('Population')\nax[0].plot(0, Kx1 + Ky1, color = '0.8', label = 'Somme des équilibres du modèle sans prédateurs')\nax[0].plot(0, Kx1 + Ky1, color = 'C0', label = 'Somme des équilibres du modèle avec prédateurs')\nax[0].plot(0, Kx1 + Ky1, linestyle = 'dashed', color = 'C1', markersize = '6', label = 'm/n')\nax[0].plot(0, Kx1 + Ky1, linestyle = 'dashed', color = 'k', markersize = '6', label = '$K_x+K_y$')\n\n#Nous déplaçons la légende hors de la figure:\nax[0].legend(bbox_to_anchor = (0.7, -0.6, 0.5, 0.5), fontsize = 10)\n\n#Titres:\nax[0].set_title('Déflation')\nax[1].set_title('Déflation');\n```\n\n::: {.cell-output .cell-output-display}\n![Somme des équilibres du système avec prédateurs avec inflation et déflation du système sans prédateurs](modelaug_files/figure-html/fig-1-output-1.png){#fig-1 width=694 height=540}\n:::\n:::\n\n\n::: {.callout-note}\nDans la légende nous remarquons qu'en gris nous avons la somme des équilibres du modèle sans prédateurs et en bleu du modèle avec prédateurs. Ceci ne veut pas dire que la courbe bleu représente la somme des équilibres d'un système avec des prédateurs en vie tout le temps puisque nous avons vu à l'instant qu'ils ne sont pas présents sur la @fig-1 à gauche par exemple.  \n\nQuand nous disons avec prédateurs c'est que le modèle prend en compte les prédateurs et donc il prend en compte quand leur population est nulle.\n\nQuand cette population est nulle nous avons montré que le modèle avec prédateurs était égal au modèle sans prédateurs de la partie précédente expliquant que les deux courbes se rejoignent mais il faut bien garder en tête que nous simulons deux modèles complètement différents (l'un en 2D l'autre en 3D).\n:::\n\nNous avons pris dans notre premier cas un système qui subissait une déflation de base et qui subit pour certaines valeurs de $\\beta$ une invasion de prédateurs.  \n\nNous retrouvons bien en gris (somme des équilibres sans prédateurs) le même profil de courbe que dans la partie précédente.  \n\nEn orange nous retrouvons la droite correspondant à $\\frac{m}{n}$ qui va permettre de voir l'installation des prédateurs quand la courbe grise la traversera.  \n\nLa droite en noir correspond à $K_x+K_y$ et va permettre de voir si nous avons inflationou déflation du système.\n\nEnfin la courbe bleu décrit la somme des équilibres dans le système ([-@eq-modelau]) et présente à la fois la somme des équilibres si nous avons invasion des prédateurs (et donc mise en place de l'équilibre $(x^*,y^*,z^*)$) et à la fois la somme des équilibres si nous avons disparition des ravageurs.  \nDans ce cas là, qui correspond à un cas où la courbe grise est en dessous de la droite orange (cf la condition d'invasion décrite plus haut), nous observons bien que la courbe bleu et la courbe grise sont confondues.  \n\nIntuitivement nous pouvons se dire que rajouter des prédateurs à un système subissant déjà une déflation sans prédateurs ne peut faire qu'aller dans le sens de la déflation.  \nNous pouvons observer sur notre figure que c'est bien le cas.  \nA gauche nous observons que comme nous avons $\\frac{m}{n}$ tout le temps plus grand que $x_0^* + x^*_0$ alors les prédateurs ne s'installent pas et donc la courbe bleu est confondu avec la courbe grise ($x_0^* + x^*_0 = x^*+y^*$). \nComme les prédateurs ne sont pas présents nous observons la même déflation que dans le modèle précédent.  \n\nA droite nous observons que $\\frac{m}{n}$ est d'abord en dessous de $x_0^* + x^*_0$ et donc les prédateurs peuvent s'installer expliquant la saturation à $\\frac{m}{n}$ et dès que $x_0^* + x^*_0$ passe en dessous de $\\frac{m}{n}$ nous observons que la courbe bleu rejoint la courbe grise.  \nAinsi nous voyons dans ce cas que l'ajout de prédateurs permet d'avoir une forte déflation même pour des forces de migration $\\beta$ basse ce qui n'est pas le cas dans le modèle précédent (comme en témoigne la courbe grise).\n\n#### Délfation/Inflation du système sans prédateurs\n\nNous utilisons le même code python en changeant les paramètres:\n\n::: {.cell execution_count=6}\n``` {.python .cell-code code-fold=\"true\"}\n#Paramètres:\n#2:\nrx2 = 0.5\nry2 = 1\nKx2 = 2\nKy2 = 1\ngx2 = 5\ngy2 = 1\np2 = 1\nm21 = 1\nn21 = 0.3278\nm22 = 1\nn22 = 0.335\n\nparam21 = np.array([rx2, Kx2, ry2, Ky2, gx2, gy2, p2, n21, m21])\nparam22 = np.array([rx2, Kx2, ry2, Ky2, gx2, gy2, p2, n22, m22])\n\n#Figure:\nfig, ax = plt.subplots(1, 2, figsize = (8, 5))\nplt.subplots_adjust(wspace = 0.3)\n\n#Boucle pour plot en fonction de beta:\nfor i in np.arange(0, 4, 0.01):\n    s21 = odeint(a, e0, t, args = (param21, i))\n    ax[0].plot(i, s21[-1][0] + s21[-1][1], marker = '.', markersize = 3, color = 'C0')             \n    s22 = odeint(a, e0, t, args = (param22, i))\n    ax[1].plot(i, s22[-1][0] + s22[-1][1], marker = '.', markersize = 3, color = 'C0')              \n    \n    s21sp = odeint(aug, e0[0:2], t, args = (param21[0:6], i))\n    ax[0].plot(i, s21sp[-1][0] + s21sp[-1][1], marker = '.', markersize = 1, color = '0.7')\n    s22sp = odeint(aug, e0[0:2], t, args = (param22[0:6], i))\n    ax[1].plot(i, s22sp[-1][0] + s22sp[-1][1], marker = '.', markersize = 1, color = '0.7')\n\n\n#Plot de la droite Kx+Ky:\nax[0].plot(xt, (Kx2 + Ky2) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax[1].plot(xt, (Kx2 + Ky2) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\n\n#Plot de m/n:\nax[0].plot(xt, m21/n21 * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')\nax[1].plot(xt, m22/n22 * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')\n\n#Légendes:\nax[0].set_xlabel('β')\nax[1].set_xlabel('β')\n\nax[0].set_ylabel('Population')\nax[0].plot(0, Kx2 + Ky2, color = '0.8', label = 'Somme des équilibres du modèle sans prédateurs')\nax[0].plot(0, Kx2 + Ky2, color = 'C0', label = 'Somme des équilibres du modèle avec prédateurs')\nax[0].plot(0, Kx2 + Ky2, linestyle = 'dashed', color = 'C1', markersize = '6', label = 'm/n')\nax[0].plot(0, Kx2 + Ky2, linestyle = 'dashed', color = 'k', markersize = '6', label = '$K_x+K_y$')\n\n#Nous déplaçons la légende hors de la figure:\nax[0].legend(bbox_to_anchor = (0.7, -0.6, 0.5, 0.5), fontsize = 10);\n\nax[0].set_title('Les deux');\nax[1].set_title('Déflation');\n```\n\n::: {.cell-output .cell-output-display}\n![Somme des équilibres du système avec prédateurs avec inflation et déflation du système sans prédateurs](modelaug_files/figure-html/fig-2-output-1.png){#fig-2 width=694 height=540}\n:::\n:::\n\n\nLa légende est en tout point similaire à la simulation précédente. \n\nA gauche nous observons d'abord que la courbe bleu et grise sont confondues (traduisant une absence de prédateurs), puis une saturation à $\\frac{m}{n}$ (traduisant une présence de prédateurs) puis de nouveau une disparition des prédateurs avec les courbes bleu et grise qui se rejoignent.\n\nAinsi, dans ce cas la présence de prédateurs permet de limiter l'inflation en saturant à $\\frac{m}{n}$.\n\nA droite nous observons que encore une fois pour des valeurs de $\\frac{m}{n} < K_x+K_y$ nous avons déflation en permanence. Nous verrons que nous pouvons en déduire un cas général.  \nNous observons donc une déflation, grace à la saturation pour de faibles valeurs de $\\beta$, alors que le modèle précédent montrait une inflation. \n\n#### Inflation du système sans prédateurs\n\nNous utilisons encore le même code python en changeant les paramètres:\n\n::: {.cell execution_count=7}\n``` {.python .cell-code code-fold=\"true\"}\n#Paramètres:\n#3:\nrx3 = 1\nry3 = 2\nKx3 = 2\nKy3 = 1.5\ngx3 = 2\ngy3 = 1\np3 = 0.5\nm31 = 1\nn31 = 0.2832\nm32 = 1\nn32 = 0.289\n\nparam31 = np.array([rx3, Kx3, ry3, Ky3, gx3, gy3, p3, n31, m31])\nparam32 = np.array([rx3, Kx3, ry3, Ky3, gx3, gy3, p3, n32, m32])\n\n#Figure:\nfig, ax = plt.subplots(1, 2, figsize = (8, 5))\nplt.subplots_adjust(wspace = 0.3)\n\n#Boucle pour plot en fonction de beta:\nfor i in np.arange(0, 4, 0.01):\n    s31 = odeint(a, e0, t, args = (param31, i))\n    ax[0].plot(i, s31[-1][0] + s31[-1][1], marker = '.', markersize = 3, color = 'C0')\n    s32 = odeint(a, e0, t, args = (param32, i))\n    ax[1].plot(i, s32[-1][0] + s32[-1][1], marker = '.', markersize = 3, color = 'C0')\n    \n    s31sp = odeint(aug, e0[0:2], t, args = (param31[0:6], i))\n    ax[0].plot(i, s31sp[-1][0] + s31sp[-1][1], marker = '.', markersize = 1, color = '0.7')\n    s32sp = odeint(aug, e0[0:2], t, args = (param32[0:6], i))\n    ax[1].plot(i, s32sp[-1][0] + s32sp[-1][1], marker = '.', markersize = 1, color = '0.7')\n\n#Plot de la droite Kx+Ky: \nax[0].plot(xt2, (Kx3 + Ky3) * np.ones_like(xt2), linestyle = 'dashed', color = 'k', markersize = '6')\nax[1].plot(xt, (Kx3 + Ky3) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\n\n#Plot de m/n:\nax[0].plot(xt, m31/n31 * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')\nax[1].plot(xt, m32/n32 * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')         \n\n#Légendes:\nax[0].set_xlabel('β')\nax[1].set_xlabel('β')\n\n\nax[0].set_ylabel('Population')\nax[0].plot(0, Kx3 + Ky3, color = '0.8', label = 'Somme des équilibres du modèle sans prédateurs')\nax[0].plot(0,  Kx3 + Ky3, color = 'C0', label = 'Somme des équilibres du modèle avec prédateurs')\nax[0].plot(0, Kx3 + Ky3, linestyle = 'dashed', color = 'C1', markersize = '6', label = 'm/n')\nax[0].plot(0, Kx3 + Ky3, linestyle = 'dashed', color = 'k', markersize = '6', label = '$K_x+K_y$')\n\n#Nous déplaçons la légende hors de la figure:\nax[0].legend(bbox_to_anchor = (0.7, -0.6, 0.5, 0.5), fontsize = 10);\n\n#Titres\nax[0].set_title('Inflation');\nax[1].set_title('Déflation');\n```\n\n::: {.cell-output .cell-output-display}\n![Somme des équilibres du système avec prédateurs avec inflation du système sans prédateurs](modelaug_files/figure-html/fig-3-output-1.png){#fig-3 width=694 height=540}\n:::\n:::\n\n\nEncore une fois nous observons des courbes qui saturent à $\\frac{m}{n}$ quand la condition d'invasion des prédateurs est vérifiée.  \n\nNous pouvons voir sur la courbe de droite, et nous allons le montrer, que pour les trois profils (ou quatre si nous comptons que l'inflation peut en présenter deux) de courbe (déflation,inflation/déflation et inflation) si $\\frac{m}{n} < K_x + K_y$ le système subit une déflation en permanence.  \n\nEn effet, si $\\frac{m}{n} < K_x + K_y$ alors nous distiguons deux cas : \n\n- Soit $x^*_0+y^*_0>\\frac{m}{n}$ et donc nous avons invasion des prédateurs et saturation de la courbe à $\\frac{m}{n}$ (qui est en dessous de $K_x + K_y$ par hypothèse) et donc déflation constante.  \nC'est le cas que nous observons dans la @fig-3 à droite.\n\n- Soit $x^*_0+y^*_0<\\frac{m}{n}$ et donc les prédateurs disparaissent et donc $x_0^* + x^*_0 = x^*+y^*$ ce qui montre que $x^*+y^* < \\frac{m}{n} < K_x + K_y$ et qui explique que nous ayons une déflation constante.\nC'est le cas que nous observons dans la @fig-1 à droite pour des valeurs de $\\beta$ plus grande que $2$.  \n\n\n\nCes graphiques traduisent bien l'effet de l'ajout des prédateurs dans un système : si celui ci est déja déflationniste il le reste, si celui ci était inflationniste et déflationniste ou complètement inflationniste alors son inflation est limitée par les prédateurs (jusqu'à même pouvoir devenir délfationiste, voir figure 3 à droite).\n\nSi nous reprenons les [conditions](modeleavecmigrationass.qmd) d'inflations et déflations posées précédemment peut les adapter à ce modèle :\n\n- Si le système sans prédateurs est de base déflationniste alors le système avec prédateurs est aussi déflationniste (avec survie ou pas des prédateurs).  \nAinsi d'après les conditions du [modèle précédent](modeleavecmigrationass.qmd) nous avons que si $\\frac{\\gamma_y}{\\gamma_x}>\\frac{K_y}{K_x}$ (condition de déflation du modèle précédent) alors le système avec prédateurs est toujours déflationniste.  \n\n- Si $\\frac{\\gamma_y}{\\gamma_x}<\\frac{K_y}{K_x}$ (condition d'inflation et de déflation du modèle précédent) alors nous avons soit un système inflationniste si $\\frac{m}{n} < K_x+K_y$ soit un système inflationniste et déflationniste mais moins inflationniste que sans les prédateurs si $\\frac{m}{n} < (x^*_0+y^*_0)_{max}$ (autrement dit la courbe grise est au dessus de la droite orange).  \n  \n- Si $\\frac{r_xK_y}{r_yK_x} < \\frac{\\gamma_y}{\\gamma_x} < \\frac{K_y}{K_x}$ (conditions d'inflation du modèle précédent) alors si nous avons $x^*(\\infty)+y^*(\\infty) > \\frac{m}{n} > K_x+K_y$ alors le système est inflationniste mais moins que son [pendant sans prédateurs](modeleavecmigrationass.qmd).\n\n### Equilibre de la culture en fonction de $\\gamma_y$\n\nNous allons maintenant voir l'évolution de l'équilibre dans la culture en fonction de $\\gamma_y$ (le taux de fuite):\n\n::: {.cell execution_count=8}\n``` {.python .cell-code code-fold=\"true\"}\n#Nous définissons du nouveau modèle qui prend en compte le changement de gy :\ndef a2(etat, t, param, h):\n    x, y, z = etat\n    rx, Kx, ry, Ky, gx, b, p, n, m = param\n    gy = h\n    s = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx) - p * z * x, \n    ry * y * (1 - y/Ky) + b * (x/gx - y/gy) - p * y * z, \n    z * (n * (x + y) - m)]\n    return s\n\n#Définition de l'ancien modèle qui prend en compte le changement de gy:\ndef aug3(etat, t, param, h):\n    rx, ry, Kx, Ky, gx, b = param\n    gy = h\n    x, y = etat\n    s = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx), \n    ry * y * (1 - y/Ky) + b * (x/gx - y/gy)]\n    return s \n\n#Définition des paramètres:\n#1:\nrx1 = 0.5\nry1 = 1  \nKx1 = 1\nKy1 = 2\ngx1 = 0.5\nb = 1\np = 1\nn = 0.4\nm = 1\n\nparam1 = np.array([rx1, ry1, Kx1, Ky1, gx1, b, p, n, m])\n\n#Temps d'intégration assez large pour atteindre l'éq :\nt = np.arange(0, 100, 0.01)\n\n#Conditions initiales:\ne0 = [1, 1, 1]\n\n#Figure:\nfig, (ax, ax1) = plt.subplots(1, 2, figsize = (9, 4))\n\n#Droite de la somme des capacités:\nxt = np.arange(0, 4, 0.01)\n\nax.plot(xt, (Kx1 + Ky1) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax.text(3.15, Kx1 + Ky1 - 0.1, '$K_x+K_y$')\n\nax1.plot(xt, Kx1 * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax1.text(3.5, Kx1 - 0.1, '$K_x$')\n\n#Plot de m/n:\nax.plot(xt, m/n * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')\nax.text(3.15, m/n + 0.15, 'm/n')\n\n#Boucle qui calcule l'équilibre et qui plot un point en fonction des valeurs du taux de fuite:\nfor i in np.arange(0.01, 4, 0.001):\n    s = odeint(a2, e0, t, args = (param1, i))\n    ax.plot(i, s[-1][0] + s[-1][1], marker = '.', color = 'C0')\n    ax1.plot(i, s[-1][0], marker = '.', color = 'C0')\n\n    s = odeint(aug3, e0[0:2], t, args = (param1[0:6], i))\n    ax.plot(i, s[-1][0] + s[-1][1], marker = '.', color = '0.8', markersize = 3)\n    ax1.plot(i, s[-1][0], marker = '.', color = '0.8', markersize = 3)\n\n#Légendes:\nax1.set_xlabel('Ɣy, Fuite')\nax.set_xlabel('Ɣy, Fuite')\nax.plot(0, Kx1 + Ky1, color = 'C0', label = 'Somme des équilibres avec prédateurs')\nax.plot(0, Kx1 + Ky1, color = '0.8', label = 'Somme des équilibres sans prédateurs')\nax1.plot(0, Kx1, color = 'C0', label = 'Eq. culture avec prédateurs ($x^*$)')\nax1.plot(0, Kx1, color = 'C0', label = 'Eq. culture sans prédateurs ($x^*$)')\n\nax.set_title('Somme des équilibres en fonction du taux de fuite', fontsize = 7)\nax1.set_title('Equilibre de la culture en fonction du taux de fuite', fontsize = 7)   \nax.legend(fontsize = 7, loc = \"lower right\");\nax1.legend(fontsize = 7, loc = \"upper right\");\nax.set_ylabel(\"Densité de pop.\");\n```\n\n::: {.cell-output .cell-output-display}\n![Equilibres en fonction du taux de fuite sur un modèle simplifié](modelaug_files/figure-html/fig-5-output-1.png){#fig-5 width=747 height=372}\n:::\n:::\n\n\nEn gris nous pouvons voir la somme des équilibres du modèle sans prédateurs et en orange nous observons sur la figure gauche la droite $\\frac{m}{n}$.  \nAinsi, nous pouvons voir quand est ce qu'en fonction du taux de fuite la population de prédateurs disparaît.  \n\nPour représenter cette figure nous avons considéré que $r_x<r_y$ et $K_x<K_y$ sans perte de généralité.\n\nA gauche, nous observons que la somme des équilibres des ravageurs sans prédateurs est bien similaire à celle obtenue dans la partie précédente.  \n\nQuand il n'y a pas de prédateurs nous observons bien comme précédemment que la courbe bleu et grise se rejoignent.  \nEn revanche quand nous avons des prédateurs (la courbe grise est au dessus de $\\frac{m}{n}$) alors nous avons bien la saturation de la somme des équilibres.\n\nA droite nous observons la même simulation qu'à gauche (en terme de paramètres) mais nous représentons uniquement l'équilibre dans la culture qui est l'équilibre qui nous intéresse le plus.  \nNous observons que pour les valeurs de taux de fuite de disparition des prédateurs à gauche nous avons aussi à droite la courbe bleu qui se sépare de la courbe grise.  \nNous remarquons cette courbe bleu décroît plus vite vers la déflation que la courbe grise montrant l'effet bénéfique des parasites pour baisser les ravageurs dans le système.   \n\nAinsi, dans ce modèle nous avons aussi que des forts taux de fuite engendrent une inflation dans la culture.\n\n## Equilibres en fonction des paramètres du modèle complet\n\nMaintenant nous allons considérer le modèle plus complexe de naissances ($n$) et de la prédation ($p$) différentes entre la culture et l'augmentorium.   \nCe postulat n'est pas anodin car nous pouvons vraisemblablement penser que l'augmentorium fournit une structure positive à la croissance grâce à la grande concentration de ressources qu'il renferme et à son relatif cloisonnement de l'extérieur.  \n\n### Somme des équilibres des proies en fonction de $\\beta$\n\nPrécédemment nous observions une saturation de la somme des proies à $\\frac{m}{n}$. Mais cette observation résultait de la trop forte simplification du modèle considéré. En considérant notre modèle actuel et en faisant l'hypothèse que $z^* \\ne 0$ alors nous avons la condition $n_xx^*+n_yy^* = m$ qui ne renseigne pas comme auparavant sur la taille de la population de ravageurs à l'équilibre.  \n\nL'intuition mathématique, via le même raisonnement biologique précédent, est que l'invasion des prédateurs ie $\\exists z^* > 0$ est vérifiée si seulement si $n_xx_0^*(\\beta) + n_yy_0^*(\\beta)>m$ où $x_0^*(\\beta)$ et $y_0^*(\\beta)$ sont les équilibres du système sans prédateurs. \n\nMontrons le mathématiquement pour $\\beta = 0$ et $\\beta \\to +\\infty$ : \n\n- **Pour $\\beta =0$,** une autre manière de montrer la condition (autre que celle utilisée pour le modèle simplifié) est de considérer le système suivant donné par $\\beta$ = 0: \n\n$$ \\left\\{\\begin{array}{l}\n\\dot x = r_xx\\left(1-\\frac{x}{K_x}\\right)-p_xxz \\\\\n\\dot y = r_yy\\left(1-\\frac{y}{K_y}\\right)-p_yyz \\\\\n\\dot z = z\\left(n_xx+n_yy - m\\right)\n\\end{array}\\right.\n$$ {#eq-modelau2}\n\nqui pour un équilibre positif implique que :\n$$\n\\frac{r_x}{p_x}\\left(1-\\frac{x^*}{K_x}\\right) = \\frac{r_y}{p_y}\\left(1-\\frac{y^*}{K_y}\\right)\n$$\nqui donne, via la condition $z > 0$, après réarrangement:\n$$\nx^* = \\frac{K_x\\left(r_xp_yn_yK_y-r_yp_xn_yK_y+r_yp_xm\\right)}{r_xp_yn_yK_y+r_yp_xn_xK_x}\n$${#eq-eqx}\n\nPar l'expression de $z^*$ nous avons $K_x > x^*$ autrement dit :\n$$\nK_x > \\frac{K_x\\left(r_xp_yn_yK_y-r_yp_xn_yK_y+r_yp_xm\\right)}{r_xp_yn_yK_y+r_yp_xn_xK_x}\n$$\n$$\n\\Leftrightarrow\n$$\n$$\nr_xp_yn_yK_y+r_yp_xn_xK_x > r_xp_yn_yK_y-r_yp_xn_yK_y+r_yp_xm\n$$\n$$\n\\Leftrightarrow\n$$\n$$\nr_yp_x(n_xK_x+n_yK_y) > r_yp_xm \\Leftrightarrow n_xK_x + n_yK_y > m\n$$\n\nOr $x_0^*(0) = K_x$ et $y_0^*(0) = K_y$ car ce ne sont que des croissances logistiques en l'absence de prédateurs. \n\nAinsi la condition $n_xx_0^*(0) + n_yy_0^*(0)>m$ équivaut à $n_xK_x + n_yK_y > m$ qui est la condition d'un équilibre $z>0$.\n\nLa condition d'un équilibre positif implique bien la condition d'invasion.\n\n- **Pour $\\beta =+\\infty$,** nous allons simplifier le système ([-@eq-modelau]).\n\nNous posons $N = x+y$ et en faisant tendre $\\beta \\to +\\infty$ et en considérant $\\frac{\\dot x}{\\gamma_x} - \\frac{\\dot y}{\\gamma_y}$ nous avons forcément $\\frac{x}{\\gamma_x} = \\frac{y}{\\gamma_y}$ (similairement à la réduction du modèle simplifié).\n\nCette condition permet de dire que $\\frac{N}{\\gamma_x+\\gamma_y} = \\frac{x}{\\gamma_x} = \\frac{y}{\\gamma_y}$.  \n\n$$\n\\dot N = \\frac{r_xx\\gamma_x}{\\gamma_x}\\left(1-\\frac{x\\gamma_x}{K_x\\gamma_x}\\right) + \\frac{r_yy\\gamma_y}{\\gamma_y}\\left(1-\\frac{y\\gamma_y}{K_y\\gamma_y}\\right) - z\\left(\\frac{p_xx\\gamma_x}{\\gamma_x}+\\frac{p_yy\\gamma_y}{\\gamma_y}\\right)\n$$\n\nEn réarrangeant l'expression de droite en prenant en compte la condition précédente nous avons:\n$$\n\\dot N = \\underbrace{\\frac{r_x\\gamma_x+r_y\\gamma_y}{\\gamma_x+\\gamma_y}}_{r_N} N \\left(1 - N \\underbrace{\\frac{\\left(\\frac{r_x\\gamma_x^2}{K_x}+\\frac{r_y\\gamma_y^2}{K_y}\\right)}{(\\gamma_x+\\gamma_y)^2(r_x\\gamma_x+r_y\\gamma_y)}}_{\\frac{1}{K_N}} \\right) - zN\\underbrace{\\left(\\frac{p_x\\gamma_x+p_y\\gamma_y}{\\gamma_x+\\gamma_y}\\right)}_{p_N}\n$$\n\nPour $\\dot z$ nous avons :\n$$\n\\dot z = z\\left(\\frac{n_xx\\gamma_x}{\\gamma_x}+\\frac{n_yy\\gamma_y}{\\gamma_y}-m\\right)\n$$\n$$\n\\Leftrightarrow\n$$\n$$\n\\dot z = z\\left( N \\underbrace{\\frac{n_x\\gamma_x+n_y\\gamma_y}{\\gamma_x+\\gamma_y}}_{n_N} - m\\right)\n$$\n\nLe système ([-@eq-modelau]) devient donc pour $\\beta \\to +\\infty$ :\n\n$$ \\left\\{\\begin{array}{l}\n\\dot N = r_N N \\left(1-\\frac{N}{K_N}\\right) - p_NzN \\\\\n\\dot z = z\\left(n_N N - m\\right)\n\\end{array}\\right.\n$${#eq-systsimpl}\n\nqui est exactement un système proie-prédateur de Lotka-Volterra avec croissance logistique des proies.  \nSi $\\exists z^* > 0$ nous avons à la fois $N^*=\\frac{m}{n_N}$ et aussi $N^* < K_N$\net donc nous avons la condition suivante, s'il existe un équilibre non nul, $K_N n_N > m$.  \n\nOr, en prenant $n_xx_0^*(+\\infty) + n_yy_0^*(+\\infty) > m$ nous avons :\n$$\n\\frac{n_xx_0^*(+\\infty)\\gamma_x}{\\gamma_x} + \\frac{n_yy_0^*(+\\infty)\\gamma_y}{\\gamma_y} > m\n$$\n$$\n\\Leftrightarrow\n$$\n$$\n\\frac{N^*_0}{\\gamma_x+\\gamma_y}(n_x\\gamma_x+n_y\\gamma_y) > m\n$$\n\navec $N^*_0$ qui est l'équilibre du système de L-V pour $z=0$. Cet équilibre est trivialement égal à $K_N$ et donc nous avons:\n$$\nK_N n_N > m\n$$\n\nNos intuitions biologiques étant validées mathématiquement pour $\\beta = 0$ et $\\beta \\to +\\infty$ nous pouvons logiquement se dire que c'est aussi le cas pour un $\\beta \\in ]0,+\\infty[$.\n\nNous allons simuler numériquement la somme des équilibres des proies du système ([-@eq-modelau]) par la même méthode que précédemment en faisant aussi aparaître la courbe $n_xx^*_0+n_yy^*_0$ et $m$ ainsi que la somme des équilibres des proies du système ([-@eq-modamig]) sans prédateurs pour pouvoir voir quand nous avons disparition des prédateurs et donc $x^*_0 + y^*_0 = x^*+y^*$.\n\n#### Déflation du système sans prédateurs\n\n::: {.cell execution_count=9}\n``` {.python .cell-code code-fold=\"true\"}\n#Définition du modèle avec prédateurs:\ndef a(etat, t, param, i):\n    x, y, z = etat\n    b = i\n    rx, Kx, ry, Ky, gx, gy, px, py, nx, ny, m = param\n    s = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx) - px * z * x, \n    ry * y * (1 - y/Ky) + b * (x/gx - y/gy) - py * y * z, \n    z * (nx * x + ny * y - m)]\n    return s\n\n#Définition du modèle sans prédateurs:\ndef aug2(etat, t, param, i):\n    rx, Kx, ry, Ky, gx, gy = param\n    b = i\n    x, y = etat\n    s = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx),\n    ry * y * (1 - y/Ky) + b * (x/gx - y/gy)]\n    return s \n\n#Définition des paramètres:\n#1:\nrx1 = 0.5\nry1 = 1\nKx1 = 2\nKy1 = 1\ngx1 = 0.5\ngy1 = 3\npx1 = 0.5\npy1 = 1\nnx1 = 0.5\nny1 = 1\nm11 = 1\nm12 = 1.5\n\nparam11p = np.array([rx1, Kx1, ry1, Ky1, gx1, gy1, px1, py1, nx1, ny1, m11])\nparam11sp = param11p[0:6]\nparam12p = np.array([rx1, Kx1, ry1, Ky1, gx1, gy1, px1, py1, nx1, ny1, m12])\nparam12sp = param12p[0:6]\n\n#Temps d'intégration suffisament large pour atteindre l'équilibre:\nt = np.arange(0, 600, 0.01)\n\n#Condition initiale:\ne0p = [1, 1, 1]\ne0sp = [1, 1]\n\n#Figure:\nfig, (ax, ax1) = plt.subplots(1, 2, figsize = (8, 5))\nplt.subplots_adjust(wspace = 0.3)\n\nxt = np.arange(0, 4, 0.01)\n\n#Boucle pour plot en fonction de beta:\nfor i in np.arange(0, 4, 0.01):\n    s1p = odeint(a, e0p, t, args = (param11p, i)) #Nous calculons pour chaque beta l'équilibre\n    s1sp = odeint(aug2, e0sp, t, args = (param11sp, i))\n\n    ax.plot(i, s1p[-1][0] + s1p[-1][1], marker = '.', markersize = 2, color = 'C0') #Nous représentons un point qui correspond à la valeur de la somme des éq. en fonction de beta\n\n    ax.plot(i, nx1 * s1sp[-1][0] + ny1 * s1sp[-1][1], marker = '.', markersize = 1, color = 'r')\n\n    ax.plot(i, s1sp[-1][0] + s1sp[-1][1], marker = '.', markersize = 1, color = '0.8')\n    \n\n\n    s1p = odeint(a, e0p, t, args = (param12p, i)) #Nous calculons pour chaque beta l'équilibre\n    s1sp = odeint(aug2, e0sp, t, args = (param12sp, i))\n    \n    ax1.plot(i, s1p[-1][0] + s1p[-1][1], marker = '.', markersize = 2, color = 'C0') #Nous représentons un point qui correspond à la valeur de la somme des éq. en fonction de beta\n\n    ax1.plot(i, nx1 * s1sp[-1][0] + ny1 * s1sp[-1][1], marker = '.', markersize = 1, color = 'r')\n\n    ax1.plot(i, s1sp[-1][0] + s1sp[-1][1], marker = '.', markersize = 1,color = '0.8')\n\n    \n    \n#Plot de la droite Kx+Ky:    \nax.plot(xt, (Kx1 + Ky1) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax1.plot(xt, (Kx1 + Ky1) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\n\n#Plot de la droite m\nax.plot(xt, m11 * np.ones_like(xt), linestyle = \"dashed\", color = 'C1')\nax1.plot(xt, m12 * np.ones_like(xt), linestyle = \"dashed\", color = 'C1')\n\n#Légendes:\nax.set_xlabel('β')\nax1.set_xlabel('β')\n\n\nax.set_ylabel('Population')\nax.plot(0, Kx1 + Ky1, color = '0.8', label = 'Somme des équilibres sans prédateurs')\nax.plot(0, Kx1 + Ky1, color = 'C0', label = 'Somme des équilibres avec prédateurs')\nax.plot(0, Kx1 + Ky1, linestyle = 'dashed', color = 'r', markersize = '6', label = '$n_xx_0+n_yy_0$')\nax.plot(0, Kx1 + Ky1, linestyle = 'dashed', color = 'C1', markersize = '6', label = '$m$')\nax.plot(0, Kx1 + Ky1, linestyle = 'dashed', color = 'k', markersize = '6', label = '$K_x+K_y$')\n\n#Nous déplaçons la légende hors de la figure:\nax.legend(bbox_to_anchor = (0.5, -0.6, 0.5, 0.5), fontsize = 10);\n\n#Titres:\nax.set_title('Déflation');\nax1.set_title('Déflation');\n```\n\n::: {.cell-output .cell-output-display}\n![Somme des équilibres du système avec et sans prédateurs dans des conditions de déflation sans prédateurs](modelaug_files/figure-html/fig-6-output-1.png){#fig-6 width=672 height=562}\n:::\n:::\n\n\nNous observons sur cette figure un profil relativement différent du modèle simplifié.  \nL'analyse des figures est néanmoins assez similaire.  La majeure différence entre le modèle complet et simplifié est que la condition sur la somme des équilibres n'est plus présente car elle se complexifie.  \n\nDans notre modèle actuel nous avons représenté encore une fois en gris la somme des équilibres du modèle sans prédateurs ($x^*_0 + y^*_0$) et en bleu la somme des équilibres du modèle avec prédateurs ($x^* + y^*$).  Cette fois ci, en rouge, nous avons représenté la courbe $n_xx^*_0+n_yy^*_0$ et en orange la droite constante égale à $m$.  \n\nDans le modèle simplifié la condition d'invasion des prédateurs était donnée par le fait que graphiquement la courbe grise était au dessus (ou en dessous) de la droite verte.  \nMaintenant la condition d'invasion des prédateurs est équivalente à ce que la droite rouge soit au dessus de la droite orange.\nEnfin dans notre nouveau modèle nous n'observons pas le phénomène de saturation quand les prédateurs envahissent.  \n\nPour ces deux figures nous avons pris des valeurs de paramètres qui provoquent une déflation dans le système sans prédateurs comme en témoignent les courbes grises. Nous nous intéressons donc à l'effet des prédateurs sur un système déjà déflationniste.\n\nSur la figure à gauche nous observons que la courbe rouge est en permanence au dessus de la droite orange. Donc les prédateurs restent en vie et nous observons que la courbe bleue et grise ne sont pas confondues. La courbe bleue est plus basse que la courbe grise montrant que les prédateurs augmente la déflation du système.  \n\nSur la figure à droite nous avons cette fois la courbe rouge qui coupe la droite orange. Nous avons d'abord la courbe rouge au dessus et donc présence de prédateurs dans le système et quand $\\beta$ augmente nous avons la courbe rouge qui passe en dessous de la courbe orange impliquant que les prédateurs disparaissent. Nous voyons bien dans ce cas là que les courbes bleue et grise se rejoignent.\n\nAinsi, similairement au modèle simplifié, nous savons que si le système est déjà déflationniste sans prédateurs il le reste avec des prédateurs et ceux-ci peuvent accentuer la déflation selon leur présence ou non en fonction des paramètres.  \n\n#### Inflation/déflation du système sans prédateurs\n\nPassons maintenant à une condition d'inflation et de déflation du système sans prédateurs pour voir l'effet des prédateurs sur les ravageurs : \n\n::: {.cell execution_count=10}\n``` {.python .cell-code code-fold=\"true\"}\n#Définition des paramètres\n#2:\nrx2 = 0.5\nry2 = 1\nKx2 = 2\nKy2 = 1\ngx2 = 5\ngy2 = 1\npx2 = 0.5\npy2 = 3\nnx2 = 0.5\nny2 = 1\nm21 = 1.5\nm22 = 1.9\n\nparam21p = np.array([rx2, Kx2, ry2, Ky2, gx2, gy2, px2, py2, nx2, ny2, m21])\nparam21sp = param21p[0:6]\nparam22p = np.array([rx2, Kx2, ry2, Ky2, gx2, gy2, px2, py2, nx2, ny2, m22])\nparam22sp = param22p[0:6]\n\n#Figure:\nfig, (ax, ax1) = plt.subplots(1, 2, figsize = (8, 5))\nplt.subplots_adjust(wspace = 0.3)\n\n#Boucle pour plot en fonction de beta:\nfor i in np.arange(0, 4, 0.01):\n    s2p = odeint(a, e0p, t, args = (param21p, i)) #Nous calculons pour chaque beta l'équilibre\n    s2sp = odeint(aug2, e0sp, t, args = (param21sp, i))\n    \n    ax.plot(i, s2p[-1][0] + s2p[-1][1], marker = '.', markersize = 2, color = 'C0') #Nous représentons un point qui correspond à la valeur de la somme des éq. en fonction de beta\n\n    ax.plot(i, nx2 * s2sp[-1][0] + ny2 * s2sp[-1][1], marker = '.', markersize = 1, color = 'r')\n\n    ax.plot(i, s2sp[-1][0] + s2sp[-1][1], marker = '.', markersize = 1,color = '0.8')\n    \n\n\n    s2p = odeint(a, e0p, t, args = (param22p, i)) #Nous calculons pour chaque beta l'équilibre\n    s2sp = odeint(aug2, e0sp, t, args = (param22sp, i))\n    \n    ax1.plot(i, s2p[-1][0] + s2p[-1][1], marker = '.', markersize = 2, color = 'C0') #Nous représentons un point qui correspond à la valeur de la somme des éq. en fonction de beta\n\n    ax1.plot(i, nx2 * s2sp[-1][0] + ny2 * s2sp[-1][1], marker = '.', markersize = 1, color = 'r')\n    \n    ax1.plot(i, s2sp[-1][0] + s2sp[-1][1], marker = '.', markersize = 1, color = '0.8')\n\n\n#Plot de la droite Kx+Ky: \nax.plot(xt, (Kx2 + Ky2) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax1.plot(xt, (Kx2 + Ky2) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\n\n#Plot de m:\nax.plot(xt, m21 * np.ones_like(xt), linestyle = \"dashed\", color = 'C1')\nax1.plot(xt, m22 * np.ones_like(xt), linestyle = \"dashed\", color = 'C1')\n\n#Légendes:\nax.set_xlabel('β')\nax1.set_xlabel('β')\n\n\nax.set_ylabel('Population')\nax.plot(0, Kx2 + Ky2, color = '0.8', label = 'Somme des équilibres sans prédateurs')\nax.plot(0, Kx2 + Ky2, color = 'C0', label = 'Somme des équilibres avec prédateurs')\nax.plot(0, Kx2 + Ky2, linestyle = 'dashed', color = 'r', markersize = '6', label = '$n_xx_0+n_yy_0$')\nax.plot(0, Kx2 + Ky2, linestyle = 'dashed', color = 'C1', markersize = '6', label = '$m$')\nax.plot(0, Kx2 + Ky2, linestyle = 'dashed', color = 'k', markersize = '6', label = '$K_x+K_y$')\n\n#Nous déplaçons la légende hors de la figure:\nax.legend(bbox_to_anchor = (0.5, -0.6, 0.5, 0.5), fontsize = 10);\n\n#Titres:\nax.set_title('Déflation');\nax1.set_title('Les deux');\n```\n\n::: {.cell-output .cell-output-display}\n![Somme des équilibres du système avec et sans prédateurs dans des conditions d'inflation et de déflation sans prédateurs](modelaug_files/figure-html/fig-7-output-1.png){#fig-7 width=671 height=562}\n:::\n:::\n\n\nLes légendes sont les mêmes que sur la figure précédente.  \n\nCette fois ci nous voyons bien avec la courbe grise que nous avons d'abord inflation puis déflation du système sans prédateurs, et nous allons essayer de voir quel peut être l'effet de l'invasion de prédateurs sur cette la population totale de ravageurs ($x^*+y^*$).  \n\nSur la figure à gauche nous observons qu'avec $m$ en dessous de $n_xx^*_0+n_yy^*_0$ nous avons constamment présence de prédateurs et nous observons que la courbe bleue est toujours en dessous de $K_x+K_y$ (en noir) impliquant que le système est déflationniste.  \nEnsuite sur la figure à droite nous remarquons une situation similaire à la figure 1 à droite. Nous avons d'abord présence des prédateurs puis disparaition quand la courbe rouge passe en dessous de la droite orange.  \nEn fonction de où coupe la courbe rouge par rapport à la droite orange nous pourrions avoir une déflation constante du système.  \n\nNous pouvons observer des résultats assez différents du modèle simplifié, mais qui illustre bien l'effet attendu d'un prédateur sur un système inflationniste (une baisse de cet effet et éventuellement un passage à une déflation).\n\n#### Inflation du système sans prédateurs\n\nIntéressons nous maitenant à un cas d'inflation constante du modèle sans prédateurs pour voir l'effet de ceux-ci:\n\n::: {.cell execution_count=11}\n``` {.python .cell-code code-fold=\"true\"}\n#Définition des paramètres\n#4:\nrx4 = 2\nry4 = 1\nKx4 = 1\nKy4 = 1.25\ngx4 = 0.5\ngy4 = 1\npx4 = 3\npy4 = 0.5\nnx4 = 0.5\nny4 = 1\nm41 = 1.4\nm42 = 1.82\n\nparam41p = np.array([rx4, Kx4, ry4, Ky4, gx4, gy4, px4, py4, nx4, ny4, m41])\nparam41sp = param41p[0:6]\nparam42p = np.array([rx4, Kx4, ry4, Ky4, gx4, gy4, px4, py4, nx4, ny4, m42])\nparam42sp = param42p[0:6]\n\n\n#Figure:\nfig, (ax, ax1) = plt.subplots(1,2,figsize=(8,5))\nplt.subplots_adjust(wspace=0.3)\n\nxt = np.arange(0, 4, 0.01)\n\n#Boucle pour plot en fonction de beta:\nfor i in np.arange(0, 4, 0.01):\n    s4p = odeint(a, e0p, t, args = (param41p, i)) #Nous calculons pour chaque beta l'équilibre\n    s4sp = odeint(aug2, e0sp, t, args = (param41sp, i))\n   \n    ax.plot(i, s4p[-1][0] + s4p[-1][1], marker = '.', markersize = 2, color = 'C0') #Nous représentons un point qui correspond à la valeur de la somme des éq. en fonction de beta\n\n    ax.plot(i, nx4 * s4sp[-1][0] + ny4 * s4sp[-1][1], marker = '.', markersize = 1, color = 'r')\n    \n    ax.plot(i, s4sp[-1][0] + s4sp[-1][1], marker = '.', markersize = 1, color = '0.8')\n    \n\n    s4p = odeint(a, e0p, t, args = (param42p, i)) #Nous calculons pour chaque beta l'équilibre\n    s4sp = odeint(aug2, e0sp, t, args = (param42sp, i))\n    \n    ax1.plot(i, s4p[-1][0] + s4p[-1][1], marker = '.', markersize = 2, color = 'C0') #Nous représentons un point qui correspond à la valeur de la somme des éq. en fonction de beta\n\n    ax1.plot(i, nx4 * s4sp[-1][0] + ny4 * s4sp[-1][1], marker = '.', markersize = 1, color = 'r')\n    \n    ax1.plot(i, s4sp[-1][0] + s4sp[-1][1], marker = '.', markersize = 1, color = '0.8')\n\n#Plot de Kx+Ky:\nax.plot(xt, (Kx4 + Ky4) * np.ones_like(xt), linestyle = 'dashed',  color = 'k', markersize = '6')\nax1.plot(xt, (Kx4 + Ky4) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\n\n#Plot de m:\nax.plot(xt, m41 * np.ones_like(xt), linestyle = \"dashed\", color = 'C1')\nax1.plot(xt, m42 * np.ones_like(xt), linestyle = \"dashed\", color = 'C1')\n\n#Légendes:\nax.set_xlabel('β')\nax1.set_xlabel('β')\n\nax.set_ylabel('Population')\nax.plot(0, Kx4 + Ky4, color = '0.8', label = 'Somme des équilibres sans prédateurs')\nax.plot(0, Kx4 + Ky4, color = 'C0', label = 'Somme des équilibres avec prédateurs')\nax.plot(0, Kx4 + Ky4, linestyle = 'dashed', color = 'r', markersize = '6', label = '$n_xx_0+n_yy_0$')\nax.plot(0, Kx4 + Ky4, linestyle = 'dashed', color = 'C1', markersize = '6', label = '$m$')\nax.plot(0, Kx4 + Ky4, linestyle = 'dashed', color = 'k', markersize = '6', label = '$K_x+K_y$')\n\n#Nous déplaçons la légende hors de la figure:\nax.legend(bbox_to_anchor = (0.5, -0.6, 0.5, 0.5), fontsize = 10);\n\n#Titres:\nax.set_title('Déflation');\nax1.set_title('Les deux');\n```\n\n::: {.cell-output .cell-output-display}\n![Somme des équilibres du système avec et sans prédateurs dans des conditions d'inflation sans prédateurs](modelaug_files/figure-html/fig-8-output-1.png){#fig-8 width=671 height=562}\n:::\n:::\n\n\nCette fois nous observons que la courbe rouge est croissante.  \n\nA gauche nous avons encore une fois que pour un $m$ constamment en dessous de $n_xx^*_0+n_yy^*_0$ nous avons un système déflationiste.\n\nA droite cette fois ci comme la courbe rouge est croissante nous allons d'abord avoir celle-ci en dessous de $m$ et donc pas de présence de prédateurs alors que quand $\\beta$ augmente nous avons invasion des prédateurs.  Cette invasion est caractérisé dans notre cas par une population totale qui devient déflationniste contrairement au modèle sans prédateurs.  \n\nNous voyons à travers ces 3 figures que l'analyse est plus complexe. En fonction de si $n_xx^*_0+n_yy^*_0$ est croissante ou décroissante nous allons avoir (si $m$ croise $n_xx^*_0+n_yy^*_0$) une invasion puis une disparition ou inversement.  \nLa position des courbes devient très dépendante des paramètres. En particulier le taux de mortalité des prédateurs joue un rôle crucial et il serait intéressant de l'analyser plus en détail.  \n\nNéanmoins, et de manière similaire à précédemment, les prédateurs semblent jouer un rôle clair sur la population totale de ravageur dans le système en la faisant baisser. Ceci peut faire passer un système infaltionniste sans prédateurs à déflationniste avec.  \n\n### Equilibre de la culture en fonction de $\\gamma_y$\n\nNous allons, en tracant la somme des équilibres dans la culture puis l'équilibre dans la culture seul, voir si les résultats coincindent avec ceux trouvés précédemment pour le modèle simplifié.\n\nLe taux de fuite est crucial dans la question de l'augmentorium.\n\n::: {.cell execution_count=12}\n``` {.python .cell-code code-fold=\"true\"}\n#Nous définissons un nouveau modèle qui prend en compte le changement de gy\ndef a2(etat, t, param, i):\n    x, y, z = etat\n    gy = i\n    rx, Kx, ry, Ky, gx, b, px, py, nx, ny, m = param\n    s = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx) - px * z * x, \n    ry * y * (1 - y/Ky) + b * (x/gx - y/gy) - py * y * z, \n    z *(nx * x + ny * y - m)]\n    return s\n\n#Définition de l'ancien modèle qui prend en compte le changement de gy:\ndef aug3(etat, t, param, h):\n    rx, ry, Kx, Ky, gx, b = param\n    gy = h\n    x, y = etat\n    s = [rx * x * (1 - x/Kx) + b * (y/gy - x/gx), \n    ry * y * (1 - y/Ky) + b * (x/gx - y/gy)]\n    return s \n\n#Définition des paramètres:\n#1:\nrx1 = 0.5\nry1 = 1  \nKx1 = 1\nKy1 = 2\ngx1 = 0.5\nb = 1\npx = 0.75\npy = 1\nnx = 0.75\nny = 1\nm = 2.5\n\nparam1 = np.array([rx1, ry1, Kx1, Ky1, gx1, b, px, py, nx, ny, m])\n\n#Temps d'intégration assez large pour atteindre l'éq :\nt = np.arange(0, 100, 0.01)\n\n#Conditions initiales:\ne0 = [1, 1, 1]\n\n#Figure:\nfig, (ax, ax1) = plt.subplots(1, 2, figsize = (9, 4))\n\n#Droite de la somme des capacités:\nxt = np.arange(0, 4, 0.01)\n\nax.plot(xt, (Kx1 + Ky1) * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax.text(3.15, Kx1 + Ky1 - 0.1, '$K_x+K_y$')\n\nax1.plot(xt, Kx1 * np.ones_like(xt), linestyle = 'dashed', color = 'k', markersize = '6')\nax1.text(3.5, Kx1 - 0.1, '$K_x$')\n\n#Plot de m:\nax.plot(xt, m * np.ones_like(xt), linestyle = 'dashed', color = 'C1', markersize = '6')\nax.text(3.15, m - 0.1, 'm/n')\n\n\n#Boucle qui calcule l'équilibre et qui plot un point en fonction des valeurs du taux de fuite:\nfor i in np.arange(0.01, 4, 0.001):\n    s = odeint(a2, e0, t, args = (param1, i))\n    ax.plot(i, s[-1][0] + s[-1][1], marker = '.', color = 'C0')\n    ax1.plot(i, s[-1][0], marker = '.', color = 'C0')\n\n    s = odeint(aug3, e0[0:2], t, args = (param1[0:6], i))\n    ax.plot(i, s[-1][0] + s[-1][1], marker = '.', color = '0.8', markersize = 1)\n    ax.plot(i, nx * s[-1][0] + ny * s[-1][1], marker = '.', color = 'r', markersize = 1)\n    ax1.plot(i, s[-1][0], marker = '.', color = '0.8', markersize = 1)\n\n#Légendes:\nax1.set_xlabel('Ɣy, Fuite')\nax.set_xlabel('Ɣy, Fuite')\nax.plot(0, Kx1 + Ky1, color = 'C0', label = 'Somme des équilibres avec prédateurs')\nax1.plot(0, Kx1, color = 'C0', label = 'Eq. culture avec prédateurs ($x^*$)')\n\nax.plot(0, Kx1 + Ky1, color = '0.8', label = 'Somme des équilibres sans prédateurs')\nax1.plot(0, Kx1, color = '0.8', label = 'Somme des équilibres sans prédateurs')\n\nax.plot(0, Kx1 + Ky1, linestyle = 'dashed', color = 'r', markersize = '6', label = '$n_xx_0+n_yy_0$')\nax.plot(0, Kx1 + Ky1, linestyle = 'dashed', color = 'C1', markersize = '6', label = '$m$')\nax.plot(0, Kx4 + Ky4, linestyle = 'dashed', color = 'k', markersize = '6', label = '$K_x+K_y$')\n\n\n\n\nax.set_title('Somme des équilibres en fonction du taux de fuite', fontsize = 7)\nax1.set_title('Equilibre de la culture en fonction du taux de fuite', fontsize = 7)   \nax.legend(fontsize = 7, loc = \"lower right\");\nax1.legend(fontsize = 7, loc = \"upper right\");\nax.set_ylabel(\"Densité de pop.\"); \n```\n\n::: {.cell-output .cell-output-display}\n![Equilibres en fonction du taux de fuite sur modèle complet](modelaug_files/figure-html/fig-9-output-1.png){#fig-9 width=739 height=372}\n:::\n:::\n\n\nNous observons des résultats similaires au système simplifié. Nous voyons bien sur les figures quand est-ce que les prédateurs envahissent le système ou pas (si la courbe bleue est confondue avec la courbe grise nous avons disparition des prédateurs et inversement).  \n\nA gauche nous observons que quelque soit le taux de fuite la somme des équilibres est déflationniste grâce à l'invasion de prédateurs qui baisse la population totale de ravageurs.  \nNéanmoins nous observons qu'en repésentant l'équilibre dans la culture seul, c'est à dire $x^*$ nous avons enfaite une inflation par rapport à $K_x$. Cette inflation est réduite plus rapidement avec prédateurs que sans prédateurs comme nous le montre la scission entre la courbe bleue et grise.\n\n\nNous avons donc obtenus des résultats intéressants qui peuvent mettre en lumière le rôle des prédateurs sur un système de ravageurs.  \nNéanmoins par manque de temps nous n'avons pas pu exploiter pleinement le potentiel des équilibres en fonction des paramètres du modèle complet.  \nUne analyse plus poussée nous paraîtrait intéressante.\n\nNous allons maintenant [terminer](conclusion.qmd) ce rapport avec des perspectives sur un modèle à quatres populations et discuter des arguments qui pourraient appuyer une efficacité de l'augmentorium.\n\n",
    "supporting": [
      "modelaug_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}